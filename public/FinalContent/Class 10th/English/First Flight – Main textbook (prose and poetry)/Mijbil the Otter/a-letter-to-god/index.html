<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Letter to God - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'A Letter to God'">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 The Story</button>
            <button class="nav-item" onclick="showModule('poem1')" aria-pressed="false">🎭 Dust of Snow</button>
            <button class="nav-item" onclick="showModule('poem2')" aria-pressed="false">🎭 Fire and Ice</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 A Letter to God</h1>
            <p class="subtitle">First Flight - Class X</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "A Letter to God"
                </h2>
                <div class="content-block">
                    <p>They say faith can move mountains. But what should we put our faith in? This is the question this story delicately poses.</p>
                    <p>This interactive lesson explores the story "A Letter to God," which tells the tale of Lencho, a farmer who writes a letter to God when his crops are ruined by a hailstorm, asking for a hundred pesos. Through this simple yet profound narrative, we'll discover themes of faith, kindness, and irony.</p>
                    <p>We'll also explore two beautiful poems by Robert Frost: "Dust of Snow" and "Fire and Ice." These poems, though short, contain deep reflections on life, nature, and human emotions.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>Before reading the story, let's think about faith and what it means to believe in something deeply.</p>
                    <p>Lencho is a farmer who writes a letter to God when his crops are ruined, asking for a hundred pesos. Does Lencho's letter reach God? Does God send him the money? Think what your answers to these questions would be, and guess how the story continues, before you begin to read it.</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Money Order Form</h3>
                <div class="content-block">
                    <p>One of the cheapest ways to send money to someone is through the post office. Have you ever sent or received money in this way?</p>
                    <p>Let's explore how a money order works by filling out a simple form:</p>
                </div>
                
                <div class="money-order-form" id="moneyOrderForm">
                    <div class="form-group">
                        <label for="senderName">Sender's Name:</label>
                        <input type="text" id="senderName" placeholder="Your Name">
                    </div>
                    <div class="form-group">
                        <label for="receiverName">Receiver's Name:</label>
                        <input type="text" id="receiverName" placeholder="Recipient's Name">
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount (in pesos):</label>
                        <input type="number" id="amount" placeholder="100">
                    </div>
                    <div class="form-group">
                        <label for="message">Message (Space for Communication):</label>
                        <input type="text" id="message" placeholder="Optional message...">
                    </div>
                    <button class="interactive-btn submit-form-btn">
                        Submit Money Order
                    </button>
                    <div id="moneyOrderFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
                
                <div class="reflection-exercise">
                    <h3>Think and Reflect</h3>
                    <p>What kind of faith do you think Lencho has? Have you ever had complete faith in something or someone?</p>
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">A LETTER TO GOD</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Dust of Snow Poem Module -->
        <div class="module" id="poem1">
            <div class="story-reader">
                <h2 class="section-title">DUST OF SNOW</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="readPoemAloud('poem1'); return false;" aria-label="Read the poem aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightPoemVocabulary('poem1'); return false;" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode(); return false;" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="poem-content" id="poem1Content">
                    <!-- Dust of Snow poem content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Fire and Ice Poem Module -->
        <div class="module" id="poem2">
            <div class="story-reader">
                <h2 class="section-title">FIRE AND ICE</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="readPoemAloud('poem2'); return false;" aria-label="Read the poem aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightPoemVocabulary('poem2'); return false;" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode(); return false;" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="poem-content" id="poem2Content">
                    <!-- Fire and Ice poem content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <div class="story-navigation">
                    <button class="story-nav-btn active" onclick="showQuestionSet('story-questions')" aria-pressed="true">Story Questions</button>
                    <button class="story-nav-btn" onclick="showQuestionSet('poem1-questions')" aria-pressed="false">Dust of Snow Questions</button>
                    <button class="story-nav-btn" onclick="showQuestionSet('poem2-questions')" aria-pressed="false">Fire and Ice Questions</button>
                </div>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌪️</span>
                    Storm Types
                </h2>
                <div class="content-block">
                    <p>In the story, a hailstorm destroys Lencho's crops. 'Hailstones' are small balls of ice that fall like rain. A storm in which hailstones fall is a 'hailstorm'. You know that a storm is bad weather with strong winds, rain, thunder and lightning.</p>
                    <p>There are different names in different parts of the world for storms, depending on their nature. Can you match the names with their descriptions?</p>
                </div>
                
                <form id="stormMatchingForm" class="matching-game">
                    <div class="contraction-item">
                        <p>1. A violent tropical storm in which strong winds move in a circle: <input type="text" id="storm1" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>2. An extremely strong wind: <input type="text" id="storm2" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>3. A violent tropical storm with very strong winds: <input type="text" id="storm3" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>4. A violent storm whose centre is a cloud in the shape of a funnel: <input type="text" id="storm4" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>5. A violent storm with very strong winds, especially in the western Atlantic Ocean: <input type="text" id="storm5" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    <div class="contraction-item">
                        <p>6. A very strong wind that moves very fast in a spinning movement and causes a lot of damage: <input type="text" id="storm6" class="contraction-input" placeholder="Type answer..."></p>
                    </div>
                    
                    <div class="content-block">
                        <p>Choose from: gale, whirlwind, cyclone, hurricane, tornado, typhoon</p>
                    </div>
                    
                    <button class="interactive-btn submit-form-btn">Check Answers</button>
                    <div id="stormFeedback" class="feedback-message" aria-live="polite"></div>
                </form>
            </div>


            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔄</span>
                    Metaphors
                </h2>
                <div class="content-block">
                    <p>The word metaphor comes from a Greek word meaning 'transfer'. Metaphors compare two things or ideas: a quality or feature of one thing is transferred to another thing.</p>
                    <p>In the story "A Letter to God," there are several metaphors. Complete the table by finding metaphors for the objects mentioned:</p>
                </div>
                
                <form id="metaphorForm" class="vocabulary-exercise">
                    <table class="metaphor-table">
                        <thead>
                            <tr>
                                <th>Object</th>
                                <th>Metaphor</th>
                                <th>Quality or Feature Compared</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Raindrops</td>
                                <td>"new coins"</td>
                                <td><input type="text" id="metaphor1" placeholder="Type your answer..."></td>
                            </tr>
                            <tr>
                                <td>Hailstones</td>
                                <td>"frozen pearls" / "silver coins"</td>
                                <td><input type="text" id="metaphor2" placeholder="Type your answer..."></td>
                            </tr>
                            <tr>
                                <td>A plague</td>
                                <td>"would have left more than this"</td>
                                <td><input type="text" id="metaphor3" placeholder="Type your answer..."></td>
                            </tr>
                            <tr>
                                <td>Lencho - "an ox of a man"</td>
                                <td>"working like an animal"</td>
                                <td><input type="text" id="metaphor4" placeholder="Type your answer..."></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <button class="interactive-btn submit-form-btn">Check Answers</button>
                    <div id="metaphorFeedback" class="feedback-message" aria-live="polite"></div>
                </form>
            </div>

        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - A Letter to God</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/a-letter-to-god-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
