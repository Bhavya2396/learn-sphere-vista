<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From the Diary of Anne Frank - Interactive English Lesson</title>
    <link rel="stylesheet" href="css/styles.css">
    <meta name="description" content="Interactive English lesson based on 'From the Diary of Anne Frank'">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-menu" role="navigation" aria-label="Main navigation">
        <div class="nav-items">
            <button class="nav-item active" onclick="showModule('intro')" aria-pressed="true">📚 Introduction</button>
            <button class="nav-item" onclick="showModule('prereading')" aria-pressed="false">📝 Let's Begin</button>
            <button class="nav-item" onclick="showModule('story')" aria-pressed="false">📖 The Story</button>
            <button class="nav-item" onclick="showModule('poem')" aria-pressed="false">🎭 The Poem</button>
            <button class="nav-item" onclick="showModule('thinking-text')" aria-pressed="false">❓ Reading Comprehension</button>
            <button class="nav-item" onclick="showModule('thinking-language')" aria-pressed="false">🔤 Vocabulary & Grammar</button>
        </div>
    </nav>

    <!-- Audio Control -->
    <div class="audio-control">
        <button id="audioBtn" class="audio-btn" onclick="toggleAudio()" aria-label="Toggle audio narration">🔊</button>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup" aria-live="polite">
        <div class="achievement-title">🏆 Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc">You've completed a module!</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">📚 From the Diary of Anne Frank</h1>
            <p class="subtitle">First Flight - Class X</p>
            <p class="reprint">Reprint 2025-26</p>
        </header>

        <!-- Progress Tracker -->
        <div class="progress-container">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-stats">
                <span>📖 Modules: <span id="modulesComplete">0</span>/6</span>
                <span>⭐ Score: <span id="totalScore">0</span></span>
                <span>⏱️ Time: <span id="timeSpent">0:00</span></span>
            </div>
        </div>

        <!-- Introduction Module -->
        <div class="module active" id="intro">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🌟</span>
                    Welcome to "From the Diary of Anne Frank"
                </h2>
                <div class="content-block">
                    <p>Anne Frank was a young Jewish girl who lived during World War II. Her diary, which she received for her thirteenth birthday, chronicles the events of her life from 12 June 1942 until 1 August 1944.</p>
                    <p>In this interactive lesson, we'll explore Anne Frank's unique record of daily life under Nazi occupation through excerpts from her diary. We'll learn about her thoughts, feelings, and experiences while in hiding with her family during World War II.</p>
                </div>
                <div class="button-container">
                    <button class="interactive-btn" onclick="startJourney()" aria-label="Begin the lesson">
                        🚀 Start Your Learning Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- Let's Begin Module -->
        <div class="module" id="prereading">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📝</span>
                    Let's Begin
                </h2>
                <div class="content-block">
                    <p>Before we read excerpts from Anne Frank's diary, let's think about diaries and personal records. A diary is a personal record where we write our thoughts, feelings, and experiences.</p>
                    <p>Keeping a diary helps us express ourselves, reflect on our experiences, and preserve memories. Some diaries, like Anne Frank's, become important historical documents.</p>
                </div>
                
                <h3 class="activity-title">Pre-Reading Activity: Understanding Personal Records</h3>
                <div class="content-block">
                    <p>In the text, we learn about different types of personal records: journals, diaries, logs, and memoirs. Each serves a different purpose but all help record experiences and thoughts.</p>
                    <p>Do you keep a diary? What kinds of things would you write in it? Have you ever read someone else's published diary or memoir?</p>
                </div>
                
                <div class="reflection-exercise">
                    <textarea id="reflectionText" rows="5" placeholder="Write your reflection here..."></textarea>
                    <button class="interactive-btn" onclick="saveReflection()">
                        Save Reflection
                    </button>
                    <div id="reflectionFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>

        <!-- Story Module -->
        <div class="module" id="story">
            <div class="story-reader">
                <h2 class="section-title">FROM THE DIARY OF ANNE FRANK</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="toggleReadAloud()" aria-label="Read the text aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="story-content" id="storyContent">
                    <!-- Story content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Poem Module -->
        <div class="module" id="poem">
            <div class="story-reader">
                <h2 class="section-title">AMANDA!</h2>
                
                <div class="story-controls">
                    <button class="reading-mode-btn" onclick="readPoemAloud()" aria-label="Read the poem aloud">
                        🔊 Read Aloud
                    </button>
                    <button class="reading-mode-btn" onclick="highlightPoemVocabulary()" aria-label="Highlight vocabulary words">
                        ✨ Highlight Vocabulary
                    </button>
                    <button class="reading-mode-btn" onclick="togglePrintMode()" aria-label="Toggle print-friendly mode">
                        🖨️ Print Mode
                    </button>
                </div>
                
                <div class="poem-content" id="poemContent">
                    <!-- Poem content will be loaded dynamically via JavaScript -->
                </div>
            </div>
        </div>

        <!-- Reading Comprehension Module -->
        <div class="module" id="thinking-text">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">❓</span>
                    Reading Comprehension Questions
                </h2>
                
                <div class="story-navigation">
                    <button class="story-nav-btn active" onclick="showQuestionSet('story-questions')" aria-pressed="true">Story Questions</button>
                    <button class="story-nav-btn" onclick="showQuestionSet('poem-questions')" aria-pressed="false">Poem Questions</button>
                </div>
                
                <div id="textQuestions" class="question-section">
                    <!-- Questions will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Vocabulary & Grammar Module -->
        <div class="module" id="thinking-language">
            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">🔍</span>
                    Compound Words
                </h2>
                <div class="content-block">
                    <p>In the text, we find several compound words like <strong>headmistress</strong>, <strong>homework</strong>, and <strong>notebook</strong>. Compound words are made up of two or more words.</p>
                    <p>Compound words can be nouns (e.g., homework), adjectives (e.g., long-awaited), or verbs (e.g., sleep-walk).</p>
                </div>
                
                <div class="vocabulary-exercise">
                    <h3>Match the compound words with their meanings:</h3>
                    <div class="vocab-question">
                        <p>1. Heartbreaking: <select id="vocab1">
                            <option value="">Select</option>
                            <option value="law-abiding">obeying and respecting the law</option>
                            <option value="homesick">missing home and family very much</option>
                            <option value="producing">producing great sadness</option>
                            <option value="daydream">think about pleasant things, forgetting about the present</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>2. Homesick: <select id="vocab2">
                            <option value="">Select</option>
                            <option value="law-abiding">obeying and respecting the law</option>
                            <option value="homesick">missing home and family very much</option>
                            <option value="producing">producing great sadness</option>
                            <option value="daydream">think about pleasant things, forgetting about the present</option>
                        </select></p>
                    </div>
                    <div class="vocab-question">
                        <p>3. Daydream: <select id="vocab3">
                            <option value="">Select</option>
                            <option value="law-abiding">obeying and respecting the law</option>
                            <option value="homesick">missing home and family very much</option>
                            <option value="producing">producing great sadness</option>
                            <option value="daydream">think about pleasant things, forgetting about the present</option>
                        </select></p>
                    </div>
                    <button class="interactive-btn" onclick="checkVocabulary()">Check Answers</button>
                    <div id="vocabFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>

            <div class="exercise-card">
                <h2 class="exercise-title">
                    <span class="exercise-icon">📚</span>
                    Understanding Phrasal Verbs
                </h2>
                <div class="content-block">
                    <p>A phrasal verb is a verb followed by a preposition or an adverb. Its meaning is often different from the meanings of its parts.</p>
                    <p>For example: "Ramble on" means "to talk or write without focus"</p>
                </div>
                
                <div class="matching-game">
                    <h3>Match these phrasal verbs from Anne Frank's diary with their meanings:</h3>
                    
                    <div class="contraction-item">
                        <p>1. Get along with: <input type="text" class="contraction-input" data-answer="have a good relationship with"></p>
                    </div>
                    <div class="contraction-item">
                        <p>2. Plunge in: <input type="text" class="contraction-input" data-answer="go straight to the topic"></p>
                    </div>
                    <div class="contraction-item">
                        <p>3. Kept back: <input type="text" class="contraction-input" data-answer="not promoted"></p>
                    </div>
                    <div class="contraction-item">
                        <p>4. Hand in: <input type="text" class="contraction-input" data-answer="give an assignment to a person in authority"></p>
                    </div>
                    <div class="contraction-item">
                        <p>5. Stay in: <input type="text" class="contraction-input" data-answer="stay indoors"></p>
                    </div>
                    
                    <div class="button-container" style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="interactive-btn" onclick="checkPhrasalVerbs()">Check Answers</button>
                        <button class="interactive-btn secondary-btn" onclick="showPhrasalVerbAnswers()" style="background: linear-gradient(135deg, #607d8b, #78909c);">Show Answers</button>
                    </div>
                    <div id="phrasalVerbsFeedback" class="feedback-message" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Interactive English Lesson - From the Diary of Anne Frank</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/from-the-diary-of-anne-frank-story.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/activities.js"></script>
</body>
</html>
